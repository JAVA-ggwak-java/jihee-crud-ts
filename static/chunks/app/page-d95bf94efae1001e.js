(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1284:function(e,t,r){Promise.resolve().then(r.bind(r,6980))},6980:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return h}});var l=r(9268);r(4648);var o=r(6006);r(7716);var n=e=>{let{showSnackbar:t,message:r}=e;if(!t)return console.log("showSnackbar is null!"),null;console.log("showSnackbar is not null!");let o="";"success"===r?o="bg-green-500/75":"edit"===r?o="bg-blue-500/75":"error"===r?o="bg-red-500/75":"delete"===r&&(o="bg-gray-500/75");let n="";return"success"===r?(console.log("showSnackbar is success!"),console.log(n="항목을 추가했어요!")):"edit"===r?(console.log("showSnackbar is edit!"),console.log(n="항목을 수정했어요!")):"error"===r?(console.log("showSnackbar is error!"),console.log(n="값을 입력해주세요!")):"delete"===r&&(console.log("showSnackbar is delete!"),console.log(n="항목을 삭제했어요!")),(0,l.jsx)("div",{className:"".concat(o," snackbar ").concat(t?"show":""),children:n})},s=e=>{let{dateInput:t,handleDateChange:r,textInput:o,handleTextChange:n,handleFormSubmit:s}=e;return(0,l.jsxs)("form",{className:"input-form flex flex-col md:flex-row",onSubmit:s,children:[(0,l.jsx)("input",{className:"py-2 px-4 border-2 border-blue-400 rounded-md outline-none focus:border-blue-600 my-2 md:my-0 md:mr-2",placeholder:"Enter date",type:"date",value:t,onChange:r}),(0,l.jsx)("input",{className:"py-2 px-4 border-2 border-blue-400 rounded-md outline-none focus:border-blue-600 my-2 md:my-0 md:mr-2",placeholder:"Enter text",type:"text",value:o,onChange:n}),(0,l.jsx)("button",{className:"py-2 px-4 bg-blue-200 border-2 border-blue-300 rounded-md outline-none hover:bg-blue-400 hover:border-blue-500 hover:text-white my-2 md:my-0",type:"submit",children:"완료"})]})},d=r(9965);function i(e){let t=(0,o.useRef)(null),r=(0,o.useRef)(null);return r.current&&r.current.update(e),(0,o.useEffect)(()=>(r.current=new d.cW({...e,ref:t}),()=>{r.current=null}),[]),o.createElement("div",{ref:t})}var u=r(3393),a=e=>{let{showEmojiPicker:t,emojiPickerRef:r,onEmojiSelect:o,diaryId:n}=e;return t?(0,l.jsx)("div",{className:"absolute top-full z-10",ref:r,children:(0,l.jsx)(i,{data:u,onEmojiSelect:e=>o(e.native,n)})}):null},c=e=>{let{diary:t,editingDiaryId:r,editDateInput:n,handleEditDateChange:s,editTextInput:d,handleEditTextChange:i,handleEditFormSubmit:u,cancelEditing:c,toggleEmojiPicker:m,showEmojiPickerId:b,handleEmojiSelect:h,resetEmoji:x,editDiary:p,deleteDiary:f,setShowEmojiPickerId:g}=e;console.log("component");let y=(0,o.useRef)(null),j=(0,o.useRef)(null);return(0,o.useEffect)(()=>{let e=e=>{y.current&&!y.current.contains(e.target)&&j.current&&!j.current.contains(e.target)&&(g(null),console.log(j.current),console.log(e.target))};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}},[g]),(0,l.jsx)("div",{className:"diary-item bg-transparent flex flex-col md:flex-row border-solid border-2 border-sky-300 my-4 md:m-6 py-4 px-4 rounded-2xl",children:r===t.id?(0,l.jsxs)("form",{className:"justify-between w-full",onSubmit:u,children:[(0,l.jsx)("div",{className:"diary-date",children:(0,l.jsx)("input",{className:"py-2 px-2 border-2 border-blue-400 rounded-md outline-none focus:border-blue-600",type:"date",value:n,onChange:s})}),(0,l.jsx)("div",{className:"diary-text",onClick:()=>{console.log("clicked!")},children:(0,l.jsx)("input",{className:"py-2 px-2 border-2 border-blue-400 rounded-md outline-none focus:border-blue-600",type:"text",value:d,onChange:i,onFocus:()=>{console.log("input focused!")}})}),(0,l.jsxs)("div",{className:"diary-action justify-between w-full",children:[(0,l.jsx)("button",{className:"py-1 md:py-2 px-2 md:px-4 bg-blue-200 border-2 border-blue-300 rounded-md hover:bg-blue-400 hover:border-blue-500 hover:text-white",type:"submit",children:"저장"}),(0,l.jsx)("button",{className:"py-1 md:py-2 px-2 md:px-4 bg-blue-200 border-2 border-blue-300 rounded-md hover:bg-blue-400 hover:border-blue-500 hover:text-white",type:"button",onClick:c,children:"취소"})]})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"diary-date",children:(0,l.jsx)("p",{className:"text-base md:text-lg",children:t.date})}),(0,l.jsxs)("div",{className:"diary-text flex flex-col",children:[(0,l.jsx)("p",{className:"my-1 text-xl md:text-2xl",children:t.text}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("button",{className:"px-2 text-md border-2 bg-white border-blue-300 rounded-full hover:bg-blue-300 hover:border-blue-400 hover:animate-spin hover:text-white",onClick:()=>m(t.id),onDoubleClick:()=>x(t.id),ref:j,children:t.emoji?t.emoji:"\uD83E\uDEE5"}),(0,l.jsx)(a,{showEmojiPicker:b===t.id,emojiPickerRef:y,diaryId:t.id,onEmojiSelect:h})]})]}),(0,l.jsxs)("div",{className:"diary-action justify-between w-full",children:[(0,l.jsx)("button",{className:"py-1 md:py-2 px-2 md:px-4 border-2 bg-blue-200 border-blue-300 rounded-md hover:bg-blue-400 hover:border-blue-500 hover:text-white",onClick:()=>p(t.id),children:"수정"}),(0,l.jsx)("button",{className:"py-1 md:py-2 px-2 md:px-4 border-2 bg-blue-200 border-blue-300 rounded-md hover:bg-blue-400 hover:border-blue-500 hover:text-white",onClick:()=>f(t.id),children:"삭제"})]})]})})},m=e=>{let{diaries:t,editingDiaryId:r,editDateInput:o,handleEditDateChange:n,editTextInput:s,handleEditTextChange:d,handleEditFormSubmit:i,cancelEditing:u,toggleEmojiPicker:a,showEmojiPickerId:m,handleEmojiSelect:b,resetEmoji:h,editDiary:x,deleteDiary:p,setShowEmojiPickerId:f}=e;return(0,l.jsx)("div",{className:"list-section w-9/12",children:t.map(e=>(0,l.jsx)(c,{diary:e,editingDiaryId:r,editDateInput:o,handleEditDateChange:n,editTextInput:s,handleEditTextChange:d,handleEditFormSubmit:i,cancelEditing:u,editDiary:x,deleteDiary:p,toggleEmojiPicker:a,showEmojiPickerId:m,handleEmojiSelect:b,resetEmoji:h,setShowEmojiPickerId:f},e.id))})},b=()=>{let[e,t]=(0,o.useState)("");return(0,o.useEffect)(()=>{fetch("http://localhost:8080/hello").then(e=>{if(!e.ok)throw Error("Network response was not ok");return e.text()}).then(e=>t(e)).catch(e=>console.error("There was a problem with the fetch operation:",e.message))},[]),(0,l.jsx)("div",{children:(0,l.jsx)("p",{children:e})})};function h(){let[e,t]=(0,o.useState)([]),r=(e,t)=>({id:Date.now(),date:e,text:t,emoji:null}),d=(l,o)=>{let n=r(l,o);t([...e,n])},i=new Date,u="".concat(i.getFullYear(),"-").concat(String(i.getMonth()+1).padStart(2,"0"),"-").concat(String(i.getDate()).padStart(2,"0")),[a,c]=(0,o.useState)(u),[h,x]=(0,o.useState)(""),[p,f]=(0,o.useState)(null),[g,y]=(0,o.useState)(""),[j,v]=(0,o.useState)(""),w=(r,l,o)=>{null!==r&&(t(e.map(e=>e.id===r?{...e,date:l,text:o}:e)),f(null))},[E,k]=(0,o.useState)(!1),S=(0,o.useRef)(null),[N,_]=(0,o.useState)("");(0,o.useEffect)(()=>()=>{S.current&&clearTimeout(S.current)},[]);let[D,T]=(0,o.useState)(null);return(0,l.jsxs)("main",{className:"App bg-blue-100 h-screen flex flex-col items-center space-y-5 overflow-auto scrollbar-hide py-10",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-4xl text-blue-600",children:"오늘의 일기"}),(0,l.jsx)(b,{})]}),(0,l.jsxs)("div",{className:"input-section border-solid border-2 border-sky-400 py-4 px-8 rounded-2xl",children:[(0,l.jsx)(s,{dateInput:a,handleDateChange:e=>{c(e.target.value)},textInput:h,handleTextChange:e=>{x(e.target.value)},handleFormSubmit:e=>{e.preventDefault(),a&&h?(d(a,h),c(u),x(""),S.current&&(clearTimeout(S.current),k(!1)),setTimeout(()=>{_("success"),k(!0)},50)):(S.current&&(clearTimeout(S.current),k(!1)),setTimeout(()=>{_("error"),k(!0)},50)),S.current=setTimeout(()=>{k(!1)},2500)}}),E&&(0,l.jsx)(n,{showSnackbar:E,message:N})]}),(0,l.jsx)(m,{diaries:e,editingDiaryId:p,editDateInput:g,handleEditDateChange:e=>{y(e.target.value)},editTextInput:j,handleEditTextChange:e=>{v(e.target.value)},handleEditFormSubmit:e=>{e.preventDefault(),null!==p&&g&&j&&w(p,g,j),S.current&&(clearTimeout(S.current),k(!1)),setTimeout(()=>{_("edit"),k(!0)},50),S.current=setTimeout(()=>{k(!1)},2500)},cancelEditing:()=>{f(null)},editDiary:t=>{let r=e.find(e=>e.id===t);r&&(y(r.date),v(r.text)),f(t)},deleteDiary:r=>{t(e.filter(e=>e.id!==r)),S.current&&(clearTimeout(S.current),k(!1)),setTimeout(()=>{_("delete"),k(!0)},50),S.current=setTimeout(()=>{k(!1)},2500)},toggleEmojiPicker:e=>{T(t=>t===e?null:e)},showEmojiPickerId:D,setShowEmojiPickerId:T,handleEmojiSelect:(r,l)=>{t(e.map(e=>e.id===l?{...e,emoji:r}:e)),T(null)},resetEmoji:r=>{t(e.map(e=>e.id===r?{...e,emoji:null}:e))}})]})}},4648:function(){},7716:function(){},3177:function(e,t,r){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l=r(6006),o=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,d=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,r){var l,n={},u=null,a=null;for(l in void 0!==r&&(u=""+r),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(a=t.ref),t)s.call(t,l)&&!i.hasOwnProperty(l)&&(n[l]=t[l]);if(e&&e.defaultProps)for(l in t=e.defaultProps)void 0===n[l]&&(n[l]=t[l]);return{$$typeof:o,type:e,key:u,ref:a,props:n,_owner:d.current}}t.Fragment=n,t.jsx=u,t.jsxs=u},9268:function(e,t,r){"use strict";e.exports=r(3177)}},function(e){e.O(0,[228,211,253,769,744],function(){return e(e.s=1284)}),_N_E=e.O()}]);